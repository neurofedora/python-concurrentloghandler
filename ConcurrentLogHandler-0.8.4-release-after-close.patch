Python 2.7 calls acquire/release around flush+close in logging.shutdown, so 
ConcurrentLogHandler needs to deal with that.

diff -ur ConcurrentLogHandler-0.8.4.orig/src/cloghandler.py ConcurrentLogHandler-0.8.4/src/cloghandler.py
--- ConcurrentLogHandler-0.8.4.orig/src/cloghandler.py	2013-06-26 11:43:35.332815631 +1000
+++ ConcurrentLogHandler-0.8.4/src/cloghandler.py	2013-06-26 11:43:00.222085914 +1000
@@ -199,7 +199,8 @@
             self.handleError(None)
         finally:
             try:
-                unlock(self.stream_lock)
+                if not self.stream_lock.closed:
+                    unlock(self.stream_lock)
             finally:
                 # release thread lock
                 Handler.release(self)
